<div class="relative w-full {{ height }} overflow-hidden rounded-lg shadow-lg bg-gray-200" 
     (mouseenter)="onMouseEnter()" 
     (mouseleave)="onMouseLeave()">
  
  <!-- Images -->
  <div class="relative w-full h-full">
    <div *ngFor="let image of images; let i = index" 
         class="absolute inset-0 w-full h-full transition-opacity duration-500 ease-in-out"
         [class.opacity-100]="i === currentIndex"
         [class.opacity-0]="i !== currentIndex">
      <img [src]="image.src" 
           [alt]="image.alt" 
           class="w-full h-full object-cover">
      
      <!-- Caption -->
      <div *ngIf="image.caption" 
           class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4">
        <p class="text-sm md:text-base">{{ image.caption }}</p>
      </div>
    </div>
  </div>

  <!-- Navigation Arrows -->
  <div *ngIf="showArrows && images.length > 1" class="absolute inset-0 flex items-center justify-between p-4">
    <!-- Previous Button -->
    <button (click)="prevSlide()" 
            class="flex items-center justify-center w-10 h-10 rounded-full bg-white bg-opacity-20 hover:bg-opacity-40 transition-all duration-200 backdrop-blur-sm">
      <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
    </button>

    <!-- Next Button -->
    <button (click)="nextSlide()" 
            class="flex items-center justify-center w-10 h-10 rounded-full bg-white bg-opacity-20 hover:bg-opacity-40 transition-all duration-200 backdrop-blur-sm">
      <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </button>
  </div>

  <!-- Dots Indicator -->
  <div *ngIf="showDots && images.length > 1" 
       class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
    <button *ngFor="let image of images; let i = index" 
            (click)="goToSlide(i)"
            class="w-3 h-3 rounded-full transition-all duration-200"
            [class.bg-white]="i === currentIndex"
            [class.bg-white]="i === currentIndex"
            [class.bg-opacity-100]="i === currentIndex"
            [class.bg-white]="i !== currentIndex"
            [class.bg-opacity-50]="i !== currentIndex">
    </button>
  </div>

  <!-- Loading state for when no images -->
  <div *ngIf="images.length === 0" 
       class="flex items-center justify-center h-full">
    <div class="text-gray-500 text-center">
      <svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
      </svg>
      <p>No images to display</p>
    </div>
  </div>
</div>