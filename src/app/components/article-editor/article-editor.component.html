<div class="fixed right-0 top-0 h-full w-[800px] bg-white shadow-xl z-50 p-4 overflow-y-auto border-l border-gray-200">
  <h2 class="text-xl font-bold mb-4">Pagina bewerken</h2>
  <div class="" (click)="close()">
    X
  </div>


<div class="w-full h-screen flex flex-col bg-gray-50">
  <div class="p-4 border-b bg-white flex justify-between items-center">
    <h1 class="text-xl font-semibold">Artikel bewerken</h1>
    <input type="text" class="w-full mb-4 p-2 border border-gray-300 rounded" placeholder="assets/blog/nieuw.md" [ngModel]="articlePath()" (ngModelChange)="newPath.set($event)" />

    <button
      class="bg-blue-600 text-white px-4 py-2 rounded"
      (click)="saveToGithub()"
    >
      Opslaan
    </button>
  </div>

  <!-- Frontmatter Section -->
  <div class="p-4 bg-white border-b max-h-64 overflow-y-auto">
    <h2 class="text-lg font-medium mb-3">Metadata</h2>
    
    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Titel</label>
        <input 
          type="text" 
          class="w-full p-2 border border-gray-300 rounded text-sm" 
          [ngModel]="frontmatter().title" 
          (ngModelChange)="updateFrontmatterField('title', $event)"
        />
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Auteur</label>
        <input 
          type="text" 
          class="w-full p-2 border border-gray-300 rounded text-sm" 
          [ngModel]="frontmatter().author" 
          (ngModelChange)="updateFrontmatterField('author', $event)"
        />
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Datum</label>
        <input 
          type="text" 
          class="w-full p-2 border border-gray-300 rounded text-sm" 
          [ngModel]="frontmatter().date" 
          (ngModelChange)="updateFrontmatterField('date', $event)"
          placeholder="dd-mm-yyyy"
        />
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Slug</label>
        <input 
          type="text" 
          class="w-full p-2 border border-gray-300 rounded text-sm" 
          [ngModel]="frontmatter().slug" 
          (ngModelChange)="updateFrontmatterField('slug', $event)"
          placeholder="/jeugdvoetbal"
        />
      </div>
    </div>
    
    <div class="mt-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">Afbeelding</label>
      <input 
        type="text" 
        class="w-full p-2 border border-gray-300 rounded text-sm" 
        [ngModel]="frontmatter().image" 
        (ngModelChange)="updateFrontmatterField('image', $event)"
        placeholder="/assets/images/example.png"
      />
    </div>
    
    <div class="mt-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">Excerpt</label>
      <textarea 
        class="w-full p-2 border border-gray-300 rounded text-sm" 
        rows="2"
        [ngModel]="frontmatter().excerpt" 
        (ngModelChange)="updateFrontmatterField('excerpt', $event)"
      ></textarea>
    </div>
    
    <div class="mt-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">Tags</label>
      <div class="space-y-2">
        @for (tag of frontmatter().tags; track $index) {
          <div class="flex items-center gap-2">
            <input 
              type="text" 
              class="flex-1 p-2 border border-gray-300 rounded text-sm" 
              [ngModel]="tag" 
              (ngModelChange)="updateTag($index, $event)"
            />
            <button 
              class="bg-red-500 text-white px-2 py-1 rounded text-sm"
              (click)="removeTag($index)"
            >
              Ã—
            </button>
          </div>
        }
        <button 
          class="bg-green-500 text-white px-3 py-1 rounded text-sm"
          (click)="addTag()"
        >
          + Tag toevoegen
        </button>
      </div>
    </div>
    
    <div class="mt-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">Secties</label>
      <input 
        type="text" 
        class="w-full p-2 border border-gray-300 rounded text-sm" 
        [ngModel]="frontmatter().sections" 
        (ngModelChange)="updateFrontmatterField('sections', $event)"
      />
    </div>
  </div>

  <div #editorRoot class="flex-1 overflow-auto p-4 bg-white"></div>
</div>
</div>
